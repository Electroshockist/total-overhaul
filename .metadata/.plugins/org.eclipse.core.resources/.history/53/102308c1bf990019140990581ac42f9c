package electrodead.total_overhaul;

import org.apache.logging.log4j.LogManager;
import org.apache.logging.log4j.Logger;

import electrodead.total_overhaul.handlers.CustomEventHandler;
import electrodead.total_overhaul.util.Reference;
import net.minecraftforge.common.MinecraftForge;
import net.minecraftforge.fml.common.Mod;
import net.minecraftforge.fml.event.lifecycle.FMLClientSetupEvent;
import net.minecraftforge.fml.event.lifecycle.FMLCommonSetupEvent;
import net.minecraftforge.fml.javafmlmod.FMLJavaModLoadingContext;

@Mod(value = Reference.MOD_ID)
public class Main {	
	public static Main instance;
	private static final Logger logger = LogManager.getFormatterLogger(Reference.MOD_ID);
	
	public Main() {
		instance = this;
		
		FMLJavaModLoadingContext.get().getModEventBus().addListener(this::setup);
		FMLJavaModLoadingContext.get().getModEventBus().addListener(this::clientRegisteries);
		
		MinecraftForge.EVENT_BUS.register(this);
	}
	
	private void setup(final FMLCommonSetupEvent event){
		//GameRegistry.registerWorldGenerator(new WorldGen(), 3);	 
		System.out.println("test");
		logger.info("test");
		
	}
	private void clientRegisteries(final FMLClientSetupEvent event){
		//GameRegistry.registerWorldGenerator(new WorldGen(), 3);	
		MinecraftForge.EVENT_BUS.register(new CustomEventHandler());
		
	}
	
//	@SidedProxy(clientSide = Reference.CLIENT_PROXY_CLASS, serverSide = Reference.COMMON_PROXY_CLASS)
//	public static CommonProxy proxy;
//	
//	@EventHandler
//	public static void PreInit(FMLPreInitializationEvent event){
//			
//		
//	}
//	
//	@EventHandler
//	public static void init(FMLInitializationEvent event){
//		//ModRecipes.init();		
//	}
//	
//	@EventHandler
//	public static void PostInit(FMLPostInitializationEvent event){
//		MinecraftForge.EVENT_BUS.register(new CustomEventHandler());
//				
//	}

}
