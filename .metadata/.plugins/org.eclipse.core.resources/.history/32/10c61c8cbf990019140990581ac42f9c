package electrodead.total_overhaul.handlers;

import electrodead.total_overhaul.CropModifications;
import electrodead.total_overhaul.visual_effects.VoidFog;
import net.minecraft.entity.item.ExperienceOrbEntity;
import net.minecraft.entity.passive.BatEntity;
import net.minecraft.world.IWorld;
import net.minecraft.world.World;
import net.minecraftforge.event.entity.living.LivingExperienceDropEvent;
import net.minecraftforge.event.entity.player.AdvancementEvent;
import net.minecraftforge.event.entity.player.EntityItemPickupEvent;
import net.minecraftforge.event.world.BlockEvent.BreakEvent;
import net.minecraftforge.eventbus.api.SubscribeEvent;
import net.minecraftforge.fml.common.gameevent.TickEvent.ClientTickEvent;

public class CustomEventHandler {
	IWorld world;

	@SubscribeEvent
	public void onClientTickEvent(ClientTickEvent event) {
		//VoidFog.update();
	}

	@SubscribeEvent
	public void onLivingExperienceDrop(LivingExperienceDropEvent event) {
		if (event.getEntity() instanceof BatEntity) {
			world = event.getEntity().world;
			world.addEntity(
					new ExperienceOrbEntity((World) world, event.getEntity().posX, event.getEntity().posY, event.getEntity().posZ, 1)
					);
		}
	}

	@SubscribeEvent
	public void onBreakEvent(BreakEvent event) {
		CropModifications.onBreakEvent(event);
	}
	
	@SubscribeEvent
	public void onAdvancmentEvent(AdvancementEvent event){
		//event.getAdvancement().
		
	}
}
